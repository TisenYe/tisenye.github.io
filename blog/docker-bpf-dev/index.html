<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Docker Desktop进行 BPF 开发 - Tisen</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
  <link rel="stylesheet" href="https://tisenye.com/assets/css/custom.css">
  <link rel="stylesheet" href="https://tisenye.com/assets/css/prism-one-dark.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"><!--link rel="apple-touch-icon" sizes="180x180" href="https://tisenye.com/images/favicon/apple-touch-icon.png"-->
    <!--link rel="icon" type="image/png" sizes="32x32" href="https://tisenye.com/images/favicon/favicon-32x32.png"-->
    <!--link rel="icon" type="image/png" sizes="16x16" href="https://tisenye.com/images/favicon/favicon-16x16.png"-->
    <!--link rel="manifest" href="https://tisenye.com/images/favicon/site.webmanifest"-->
    <!--link rel="mask-icon" href="https://tisenye.com/images/favicon/safari-pinned-tab.svg" color="#5bbad5"-->
    <link rel="icon" type="image/png" href="/images/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/images/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/images/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="MyWebSite" />
    <link rel="manifest" href="/images/favicon/site.webmanifest" />
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff"><link rel="canonical" href="https://tisenye.com/blog/docker-bpf-dev/" /><meta name="author" content="Tisen Ye"><meta property="article:published_time" content='2025-02-10' /><meta name="keywords" content="docker,BPF,"><meta name="generator" content="Zola">
  <meta property="og:title" content="Docker Desktop进行 BPF 开发" />
  <meta property="og:url" content="https://tisenye.com/blog/docker-bpf-dev/" /><meta property="og:site_name" content="Tisen" />
  <meta property="og:locale" content="en_US" />
  <meta name="twitter:card" content="summary" /><meta name="twitter:creator" content="@user" /><meta name="google-site-verification" content="0123457890abcdefg" />
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0123456789"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-0123456789');
    </script>
</head>
<body>
  <div class="container-fluid vh-100">
    <div class="row h-100"><div
    class="sidebar d-none d-lg-block col-lg-3 col-xl-2 mh-100 p-0 overflow-auto"
  >
    <aside class="d-flex flex-column justify-content-between h-100">
      <div class="d-none d-md-block mb-4 pt-5 px-4 text-center">
        <div class="sidebar-avatar mb-2 mx-auto border border-3 rounded-circle">
          <a href="https://tisenye.github.io/" target="_blank" rel="noopener noreferrer">
    <img
      src="https://tisenye.com/images/blog.jpg"
      alt="Tisen Ye"
      class="img-fluid"
    >
  </a>
        </div>
        <div class="mb-1">
          <a
            href="https://tisenye.com/"
            class="sidebar-title fs-5 fw-bold text-decoration-none"
          >
            Tisen
          </a>
        </div>
        <div class="fw-light">
          Blog
        </div>
      </div>

      <div class="sidebar-nav list-group my-auto rounded-0 text-center"><a
        href="https://tisenye.com/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Home"
      >
        <span class="sidebar-nav-icon bi bi-house d-none fs-4"></span>
        <span class="sidebar-nav-text d-none d-md-inline">
          Home
        </span>
      </a><a
        href="https://tisenye.com/blog/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Post"
      >
        <span class="sidebar-nav-icon bi bi-file-earmark-text d-none fs-4"></span>
        <span class="sidebar-nav-text d-none d-md-inline">
          Post
        </span>
      </a><a
        href="https://tisenye.com/projects/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Projects"
      >
        <span class="sidebar-nav-icon bi bi-terminal d-none fs-4"></span>
        <span class="sidebar-nav-text d-none d-md-inline">
          Projects
        </span>
      </a><a
        href="https://tisenye.github.io/categories"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Categories"
      >
        <span class="sidebar-nav-icon bi bi-bookmarks d-none fs-4"></span>
        <span class="sidebar-nav-text d-none d-md-inline">
          Categories
        </span>
      </a></div>

      <div class="sidebar-social d-none d-md-block mt-4 pb-4 px-4">
        <div class="container-fluid">
          <div class="row justify-content-center">
            <div class="col-auto px-2">
        <a
          href="mailto:1600037849@qq.com"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='Email'
          class="text-decoration-none"
        >
          <span class="bi bi-envelope-fill"></span>
        </a>
      </div><div class="col-auto px-2">
        <a
          href="https://github.com/TisenYe"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='GitHub'
          class="text-decoration-none"
        >
          <span class="bi bi-github"></span>
        </a>
      </div><div class="col-auto px-2">
        <a
          href="https://twitter.com/"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='Twitter'
          class="text-decoration-none"
        >
          <span class="bi bi-twitter"></span>
        </a>
      </div>
          </div>
        </div>
      </div>
    </aside>
  </div><div class="col mh-100 overflow-auto px-0"><nav
    class="navbar navbar-expand navbar-bg-light sticky-top border-bottom"
  >
    <div class="container-fluid"><button
        type="button"
        class="btn d-block d-lg-none fs-5"
        data-bs-toggle="offcanvas" data-bs-target="#offcanvas"
        aria-controls="offcanvas"
      >
        <span class="bi bi-list"></span>
      </button>
      
      <div class="col-8">
        
          <div class="row justify-content-center justify-content-lg-start p-2 ps-xl-3 text-center"><div class="col-auto d-none d-xl-block">
        <a
          href="https://tisenye.com/blog/"
          class="text-decoration-none"
        >
          Blog
        </a>
      </div>
      <div class="col-auto d-none d-xl-block">
        <span class="text-secondary">
          »
        </span>
      </div><div class="col-auto">
      <span
        class="d-inline d-sm-none text-secondary"
        data-bs-toggle="tooltip"
        data-bs-title="Docker Desktop进行 BPF 开发"
      >
        Docker Desktop进行…
      </span>
      <span
        class="d-none d-sm-inline text-secondary"
        data-bs-toggle="tooltip"
        data-bs-title="Docker Desktop进行 BPF 开发"
      >
        Docker Desktop进行 BPF 开发
      </span>
    </div>
  </div>
        
      </div>

      <button
    type="button" data-bs-toggle="modal" data-bs-target="#searchModal"
    class="btn border border-0"
  >
    <span class="bi bi-search fs-5"></span>
  </button>
    </div>
  </nav><div class="d-flex flex-column h-100"><main class="container">
    <div class="row justify-content-center mt-5">
      <div class="col-11 col-lg-10 col-xxl-9">
        <h1 class="mb-3">
          Docker Desktop进行 BPF 开发
        </h1>
        <div class="row mt-3 mb-2">
          <div class="col-auto">
            <small class="text-muted">
              By:
              <a
                href="https://tisenye.github.io/"
                target="_blank" rel="noopener noreferrer"
                class="text-decoration-none"
              >
                Tisen Ye
              </a>
            </small>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-auto mb-2">
            <small class="text-muted">
              Posted:
              <time datetime="2025-02-10">
                <a 
                  href="#" data-bs-toggle="tooltip"
                  data-bs-title="Monday, February 10, 2025 12:00:00 AM UTC"
                  class="text-muted text-decoration-none"
                >
                  February 10, 2025
                </a>
              </time>
            </small>
          </div>
          
        </div><div class="mb-5">
          <p>通过Dockerfile.tools 来构建相应镜像，参考:</p>
<p><a rel="noopener nofollow noreferrer" target="_blank" href="https://luckymrwang.github.io/2022/05/23/%E4%BD%BF%E7%94%A8-Docker-Desktop%E8%BF%9B%E8%A1%8C-BPF-%E5%BC%80%E5%8F%91/">使用 Docker Desktop进行 BPF 开发</a></p>
<p>原文中的 Dockerfile.tools 有些地方需要修改一下</p>
<ul>
<li>有个 llvm 版本的报错 <code>undefined reference to getPollyPluginInfo()</code></li>
<li>需要添加 zip 包</li>
<li>通过 sed bcc/<strong>init</strong>.py 的方式由于安装方式为 egg，因此无法直接 sed 需要注释掉，该<a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/iovisor/gobpf/pull/321/commits/1d78ac6cb237a6003e8f85b5abed1d2c297ca4cd">bug已被修复</a></li>
</ul>
<p>其中的<strong>for-desktop-kernel</strong>是我们从docker hub下载的内核相关的包资源。</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">FROM</span><span> docker/for-desktop-kernel:5.10.47-0b705d955f5e283f62583c4e227d64a7924c138f AS ksrc
</span><span>
</span><span style="color:#bf616a;">FROM</span><span> ubuntu:20.04 AS bpftrace
</span><span style="color:#bf616a;">COPY --from</span><span>=ksrc /kernel-dev.tar /
</span><span style="color:#bf616a;">RUN</span><span> tar xf kernel-dev.tar &amp;&amp; </span><span style="color:#bf616a;">rm</span><span> kernel-dev.tar
</span><span>
</span><span style="color:#65737e;"># 使用阿里云镜像加速 Ubuntu 软件源
</span><span style="color:#bf616a;">RUN</span><span> sed</span><span style="color:#bf616a;"> -i </span><span>&#39;</span><span style="color:#a3be8c;">s/archive.ubuntu.com/mirrors.aliyun.com/</span><span>&#39; /etc/apt/sources.list
</span><span>
</span><span style="color:#65737e;"># 安装 LLVM 10（确保版本至少为 10.0.1）及 Clang
</span><span style="color:#bf616a;">RUN</span><span> apt-get update &amp;&amp; </span><span style="color:#bf616a;">apt-get</span><span> install</span><span style="color:#bf616a;"> -y</span><span> wget zip lsb-release software-properties-common &amp;&amp; \
</span><span>    </span><span style="color:#bf616a;">wget</span><span> https://apt.llvm.org/llvm.sh &amp;&amp; </span><span style="color:#bf616a;">chmod</span><span> +x llvm.sh &amp;&amp; \
</span><span>    </span><span style="color:#bf616a;">./llvm.sh</span><span> 10 &amp;&amp; \
</span><span>    </span><span style="color:#bf616a;">apt-get</span><span> install</span><span style="color:#bf616a;"> -y</span><span> llvm-10 clang-10 libclang-10-dev
</span><span>
</span><span style="color:#bf616a;">ENV</span><span> PATH &quot;$</span><span style="color:#bf616a;">PATH</span><span style="color:#a3be8c;">:/usr/lib/llvm-10/bin</span><span>&quot;
</span><span>
</span><span style="color:#65737e;"># 安装 bpftrace
</span><span style="color:#bf616a;">RUN</span><span> apt-get install</span><span style="color:#bf616a;"> -y</span><span> bpftrace
</span><span>
</span><span style="color:#65737e;"># 安装 bcc 的构建依赖，并创建 Python 的软链接
</span><span style="color:#bf616a;">WORKDIR</span><span> /root
</span><span style="color:#bf616a;">RUN</span><span> DEBIAN_FRONTEND=&quot;</span><span style="color:#a3be8c;">noninteractive</span><span>&quot; apt-get install</span><span style="color:#bf616a;"> -y </span><span>\
</span><span>      kmod vim bison build-essential cmake flex git libedit-dev \
</span><span>      libcap-dev zlib1g-dev libelf-dev libfl-dev \
</span><span>      python3.8 python3-pip python3.8-dev clang libclang-dev &amp;&amp; \
</span><span>    </span><span style="color:#bf616a;">ln -s </span><span>$(</span><span style="color:#bf616a;">which</span><span> python3) /usr/bin/python
</span><span>
</span><span style="color:#65737e;"># 克隆 bcc 源码并对其 CMake 配置进行 patch，追加 Polly 库到链接列表
</span><span style="color:#bf616a;">RUN</span><span> git clone https://github.com/iovisor/bcc.git &amp;&amp; \
</span><span>    </span><span style="color:#96b5b4;">cd</span><span> bcc &amp;&amp; \
</span><span>    </span><span style="color:#96b5b4;">echo </span><span>&quot;</span><span style="color:#a3be8c;">list(APPEND clang_libs Polly PollyISL)</span><span>&quot; &gt;&gt; cmake/clang_libs.cmake
</span><span>
</span><span style="color:#65737e;"># 编译并安装 bcc（包含 C++ 和 Python 部分）
</span><span style="color:#bf616a;">WORKDIR</span><span> /root/bcc/build
</span><span style="color:#bf616a;">RUN</span><span> cmake .. &amp;&amp; </span><span style="color:#bf616a;">make </span><span>&amp;&amp; </span><span style="color:#bf616a;">make</span><span> install &amp;&amp; \
</span><span>    </span><span style="color:#bf616a;">cmake -DPYTHON_CMD</span><span>=python3 .. &amp;&amp; \
</span><span>    </span><span style="color:#96b5b4;">cd</span><span> src/python/ &amp;&amp; </span><span style="color:#bf616a;">make </span><span>&amp;&amp; </span><span style="color:#bf616a;">make</span><span> install &amp;&amp; \
</span><span>    </span><span style="color:#65737e;">#sed -i &quot;s/self._syscall_prefixes\[0\]/self._syscall_prefixes\[1\]/g&quot; /usr/lib/python3/dist-packages/bcc/__init__.py
</span><span>
</span><span style="color:#65737e;"># 容器启动时挂载 debugfs 并进入 bash
</span><span style="color:#bf616a;">CMD</span><span> mount</span><span style="color:#bf616a;"> -t</span><span> debugfs debugfs /sys/kernel/debug &amp;&amp; </span><span style="color:#bf616a;">/bin/bash
</span></code></pre>
<p>原文中运行 ebpf-for-mac 是为了调试当前mac的应用进程，因此需要安装内核版本一致的相关资源。</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">$</span><span> docker run</span><span style="color:#bf616a;"> -it --rm </span><span>\
</span><span style="color:#bf616a;">  --name</span><span> ebpf-for-mac \
</span><span style="color:#bf616a;">  --privileged </span><span>\
</span><span style="color:#bf616a;">  -v</span><span> /lib/modules:/lib/modules:ro \
</span><span style="color:#bf616a;">  -v</span><span> /etc/localtime:/etc/localtime:ro \
</span><span style="color:#bf616a;">  --pid</span><span>=host \
</span><span>  ebpf-for-mac
</span></code></pre>
<p>如果只是为了使用bpf需要修改一下。</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#bf616a;">$</span><span> docker run</span><span style="color:#bf616a;"> -it --rm </span><span>\
</span><span style="color:#bf616a;">  --name</span><span> ebpf-for-mac \
</span><span style="color:#bf616a;">  --privileged </span><span>\
</span><span style="color:#bf616a;">  -v</span><span> /etc/localtime:/etc/localtime:ro \
</span><span style="color:#bf616a;">  --pid</span><span>=host \
</span><span>  ebpf-for-mac
</span></code></pre>
<p>进入docker后需要手动链接 build 目录</p>
<p><code>ln -sf /usr/src/linux-headers-5.10.47-linuxkit/ /lib/modules/6.10.14-linuxkit/build</code></p>
<p>保存 docker</p>
<pre data-lang="bash" style="background-color:#2b303b;color:#c0c5ce;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#65737e;"># 
</span><span style="color:#bf616a;">docker</span><span> commit $(</span><span style="color:#bf616a;">CONTAINER</span><span> ID) ebpf-for-mac:latest
</span><span>
</span><span>
</span></code></pre>
<pre data-lang="c" style="background-color:#2b303b;color:#c0c5ce;" class="language-c "><code class="language-c" data-lang="c"><span style="color:#b48ead;">static struct</span><span> mmc_blk_data *</span><span style="color:#8fa1b3;">mmc_blk_alloc_req</span><span>(</span><span style="color:#b48ead;">struct</span><span> mmc_card *</span><span style="color:#bf616a;">card</span><span>,
</span><span>					      </span><span style="color:#b48ead;">struct</span><span> device *</span><span style="color:#bf616a;">parent</span><span>,
</span><span>					      sector_t </span><span style="color:#bf616a;">size</span><span>,
</span><span>					      </span><span style="color:#b48ead;">bool </span><span style="color:#bf616a;">default_ro</span><span>,
</span><span>					      </span><span style="color:#b48ead;">const char </span><span>*</span><span style="color:#bf616a;">subname</span><span>,
</span><span>					      </span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">area_type</span><span>)
</span><span>{
</span><span>	</span><span style="color:#b48ead;">struct</span><span> mmc_blk_data *md;
</span><span>	</span><span style="color:#b48ead;">int</span><span> devidx, ret;
</span><span>
</span><span>	devidx = </span><span style="color:#bf616a;">ida_simple_get</span><span>(&amp;mmc_blk_ida, </span><span style="color:#d08770;">0</span><span>, max_devices, GFP_KERNEL);
</span><span>	</span><span style="color:#b48ead;">if </span><span>(devidx &lt; </span><span style="color:#d08770;">0</span><span>) {
</span><span>		</span><span style="color:#65737e;">/*
</span><span style="color:#65737e;">		 * We get -ENOSPC because there are no more any available
</span><span style="color:#65737e;">		 * devidx. The reason may be that, either userspace haven&#39;t yet
</span><span style="color:#65737e;">		 * unmounted the partitions, which postpones mmc_blk_release()
</span><span style="color:#65737e;">		 * from being called, or the device has more partitions than
</span><span style="color:#65737e;">		 * what we support.
</span><span style="color:#65737e;">		 */
</span><span>		</span><span style="color:#b48ead;">if </span><span>(devidx == -ENOSPC)
</span><span>			</span><span style="color:#bf616a;">dev_err</span><span>(</span><span style="color:#bf616a;">mmc_dev</span><span>(card-&gt;host),
</span><span>				&quot;</span><span style="color:#a3be8c;">no more device IDs available</span><span style="color:#96b5b4;">\n</span><span>&quot;);
</span><span>
</span><span>		</span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">ERR_PTR</span><span>(devidx);
</span><span>	}
</span><span>
</span><span>	md = </span><span style="color:#bf616a;">kzalloc</span><span>(sizeof(</span><span style="color:#b48ead;">struct</span><span> mmc_blk_data), GFP_KERNEL);
</span><span>	</span><span style="color:#b48ead;">if </span><span>(!md) {
</span><span>		ret = -ENOMEM;
</span><span>		</span><span style="color:#b48ead;">goto</span><span> out;
</span><span>	}
</span></code></pre>

        </div>
        
          <div class="row my-1">
            <div class="col-auto">
              <span class="bi bi-bookmarks fs-6 me-1"></span>
              
    <a
      href="https://tisenye.com/categories/devlop/"
      class="btn btn-taxonomy btn-sm m-1 border text-decoration-none"
    >
      <small>
        devlop
      </small>
    </a>
  
            </div>
          </div>
        
        
          <div class="row mt-1 mb-3">
            <div class="col-auto">
              <span class="bi bi-tags fs-6 me-1"></span>
              
    <a
      href="https://tisenye.com/tags/docker/"
      class="btn btn-taxonomy btn-sm m-1 border text-decoration-none"
    >
      <small>
        docker
      </small>
    </a>
  
    <a
      href="https://tisenye.com/tags/bpf/"
      class="btn btn-taxonomy btn-sm m-1 border text-decoration-none"
    >
      <small>
        BPF
      </small>
    </a>
  
            </div>
          </div>
        
      </div>
    </div>
  </main><div class="container">
    <div class="row justify-content-center mt-3 mb-4">
      <div class="col-11 col-lg-10 col-xxl-9"><div id="disqus_thread"></div>
  <script>        
    var disqus_config = function () {
      this.page.url = 'https://tisenye.com/blog/docker-bpf-dev/';  

      this.page.identifier = 'blog-2025-01'; 
    };
    
    (function() {
      var d = document, s = d.createElement('script');
      
      s.src = 'https://user.disqus.com/embed.js';
      
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>
    Please enable JavaScript to view the 
    <a href="https://disqus.com/?ref_noscript" rel="nofollow">
      comments powered by Disqus.
    </a>
  </noscript></div>
    </div>
  </div><footer class="container-fluid mt-auto">
    <div class="row justify-content-center">
      <div class="col-10">
        <div class="row pt-3 pb-4 border-top">
          <div class="col-12 col-md-6 mb-2 mb-md-0 text-center text-md-start">
            <small class="text-secondary">
              © 2025
              <a 
                href="https://tisenye.github.io/"
                target="_blank" rel="noopener noreferrer"
                class="text-decoration-none"
              >
                Tisen Ye&period;
              </a>
              <a
                href="https://creativecommons.org/licenses/by/4.0/"
                data-bs-toggle="tooltip"
                data-bs-title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
                class="text-secondary text-decoration-none"
              >
                Some rights reserved.
              </a>
            </small>
          </div>
          <div class="col-12 col-md-6 text-center text-md-end">
            <small class="text-secondary">
              Powered by
              <a 
                href="https://www.getzola.org/"
                target="_blank" rel="noopener noreferrer"
                class="text-decoration-none"
              >
                Zola
              </a>
              with
              <a 
                href="https://github.com/gersonbdev/ataraxia-zola"
                target="_blank" rel="noopener noreferrer"
                class="text-decoration-none"
              >
                Ataraxia
              </a>
              theme.
            </small>
          </div>
        </div>
      </div>
    </div>
  </footer>
        </div>
      </div>
    </div>
  </div>
  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvas" aria-labelledby="offcanvasLabel">
    <div class="offcanvas-body p-0">
      <div class="sidebar container-fluid vh-100">
        <div class="row h-100">
          <div
            class="col mh-100 px-0 overflow-auto"
          >
            <aside class="d-flex flex-column justify-content-between h-100">
              <div class="mb-4 pt-5 px-3 text-center">
                <div class="sidebar-avatar mb-2 mx-auto border border-3 rounded-circle">
                  <a href="https://tisenye.github.io/" target="_blank" rel="noopener noreferrer">
    <img
      src="https://tisenye.com/images/blog.jpg"
      alt="Tisen Ye"
      class="img-fluid"
    >
  </a>
                </div>
                <div>
                  <a
                    href="https://tisenye.com/"
                    class="sidebar-title fs-5 fw-bold text-decoration-none"
                  >
                    Tisen
                  </a>
                </div>
              </div>

              <div class="sidebar-nav list-group my-auto rounded-0 text-start"><a
        href="https://tisenye.com/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Home"
      >
        <span class="sidebar-nav-icon bi bi-house ms-2 me-1 fs-4"></span>
        <span class="sidebar-nav-text">Home</span>
      </a><a
        href="https://tisenye.com/blog/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Post"
      >
        <span class="sidebar-nav-icon bi bi-file-earmark-text ms-2 me-1 fs-4"></span>
        <span class="sidebar-nav-text">Post</span>
      </a><a
        href="https://tisenye.com/projects/"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Projects"
      >
        <span class="sidebar-nav-icon bi bi-terminal ms-2 me-1 fs-4"></span>
        <span class="sidebar-nav-text">Projects</span>
      </a><a
        href="https://tisenye.github.io/categories"
        class="sidebar-nav-item list-group-item list-group-item-action border border-0"
        data-bs-toggle="tooltip" data-bs-title="Categories"
      >
        <span class="sidebar-nav-icon bi bi-bookmarks ms-2 me-1 fs-4"></span>
        <span class="sidebar-nav-text">Categories</span>
      </a></div>

              <div class="sidebar-social mt-4 pb-4 px-3">
                <div class="container-fluid">
                  <div class="row justify-content-center">
                    <div class="col-auto px-2">
        <a
          href="mailto:1600037849@qq.com"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='Email'
          class="text-decoration-none"
        >
          <span class="bi bi-envelope-fill"></span>
        </a>
      </div><div class="col-auto px-2">
        <a
          href="https://github.com/TisenYe"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='GitHub'
          class="text-decoration-none"
        >
          <span class="bi bi-github"></span>
        </a>
      </div><div class="col-auto px-2">
        <a
          href="https://twitter.com/"
          target="_blank" rel="noopener noreferrer"
          data-bs-toggle="tooltip"
          data-bs-title='Twitter'
          class="text-decoration-none"
        >
          <span class="bi bi-twitter"></span>
        </a>
      </div>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="searchModalLabel">
          Search
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div
          id="searchInput" role="search" 
          class="d-flex mb-3 border rounded-5 bg-white"
        >
          <input
            id="search" type="search"
            class="form-control border border-0 rounded-5 rounded-end"
            placeholder="Search"
            aria-label="Search"
          >
          <div class="rounded-5 rounded-start py-2 ps-2 pe-3">
            <span class="bi bi-search"></span>
          </div>
        </div>
        <div class="search-results">
          <div class="search-results__items">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <script src="https://tisenye.com/assets/js/bootstrap/bootstrap.bundle.min.js"></script>
  <script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));
    const myModal = document.getElementById('searchModal');
    const myInput = document.getElementById('searchInput');

    myModal.addEventListener('shown.bs.modal', () => {
      myInput.focus()
    });
  </script>
  <script src="https://tisenye.com/elasticlunr.min.js"></script>
  <script src="https://tisenye.com/search_index.en.js"></script><script src="https://tisenye.com/assets/js/search/search.js"></script>
</body>
</html>
